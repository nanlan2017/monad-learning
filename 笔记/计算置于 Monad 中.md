________________________________________________________________________________________________________________
____________________ 《Real World Haskell》第18章 Monad Transformer _____________________________________________
《Real World Haskell》第18章 Monad Transformer

大部分指令式的应用可以使用和这里的 App monad类似的方法:
    在monad栈中编写。
在实际的程序中，或许需要携带更复杂的配置数据，
    但依旧可以使用 ReaderT 以保持其只读，▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 并只在需要时暴露配置；  【就跟 IO Monad一样，你的do 中 对r/w/s 环境已经关联，】
    或许有更多可变状态需要管理，但依旧可以使用 StateT 封装它们。

_________________________________________________________________________________________________________________
    ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇            
    忽然就有个图像化的理解：
        >> 是 action sequence 并 无视上一步的计算结果
            —— Reader 的话自然结果被无视了、 但是后续继续也直接持有了 前一次计算 使用的r 资源！（只读的）
            —— Writer 的话 已经把上一步产生的write 内容写入 w 中了（相当于 IO 的putStr  “abc”已经把东西打印出去了！） —— 下一步就是接着在此后序
            —— State 的话，（全局变量总和s） 已经在这一步计算f（基于+修改状态、产生一个直接结果）执行过后被修改掉了，后续计算虽然仍基于修改后的全局状态、但不需要f 这一步计算出的直接结果

        Writer/Reader/State/IO 都是对应着外界具体的实体的，      【多把m 换成 IO 想一想：这其中 IO 应该最能直觉感受到！】
            —— Maybe : 想想有个外部环境：它必须没 Broken 才可进行运算。那么 Maybe 计算的意思是：每一步计算都可能导致它 Broken。 
                       这个 Broken 状态会导致后面的计算都无法进行。
_________________________________________________________________________________________________________________
______________________________ 直觉：对于 m a ， <- , a -> m b _________________________________________________
{-
                把 m a  理解成 monadic value <---- 这是侧重结果
                        理解成 有副作用的 action <--- 强调这是一个动作。并且a 部分就是这个动作的直接结果。
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 既然 do-block 就是m a, 显然do 是动词，所以把 m a 想成action 更合适！！！



bind/ do 中的<- 的本质就是： 
    让第一个action (getLine)的结果能    以line1这个名称     被后续的action (actions/do-block整个就是一个大action) 所使用
    即： action1 >>= \line1 -> ACTIONS

                        
而 m a    >>=    (a -> m b)   >>=     (b -> m c)
▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 把 a -> m b 理解为：  m b 是一个action， 不是说： “有了a，才得到一个action”，
                                                      而是说： “m b 这个action 在 ‘动作’过程中会用到一个 a 类型‘纯值’ （这个动作会计算得到b、并有副作用）”
                                                                ————>  “ 提供了a 以后，这个 m b 的action 才是可以执行的 ”
                                                                 @  a->m b 写成 Lambda式:  \a -> do {...a...return b} 更易理解 
-}                       
_________________________________________________________________________________________________________________
